# 모델 컨텍스트 프로토콜(MCP) 설명서

## MCP란 무엇인가?

모델 컨텍스트 프로토콜(Model Context Protocol, MCP)은 대규모 언어 모델(LLM)과의 상호작용을 구조화하고 확장하기 위한 프레임워크입니다. MCP는 모델이 외부 데이터, 도구 및 컨텍스트를 활용할 수 있도록 하여 그 기능과 응용 프로그램을 향상시킵니다.

## MCP의 구성 요소

### 1. Resource (리소스)

리소스는 모델이 접근할 수 있는 외부 데이터 소스를 의미합니다.

**예시:**
- **문서 데이터베이스**: 모델이 참조할 수 있는 기술 문서, 지식 기반 또는 자주 묻는 질문(FAQ)
- **웹 콘텐츠**: 실시간 정보를 위한 검색 결과 또는 웹 페이지
- **구조화된 데이터**: JSON, CSV 또는 데이터베이스에서 가져온 데이터
- **개인 지식 저장소**: 사용자 메모, 이메일 또는 문서

**리소스 활용 방법:**
```json
{
  "resources": [
    {
      "type": "document",
      "id": "company_handbook",
      "content": "회사 핸드북 내용...",
      "metadata": {
        "lastUpdated": "2025-03-15"
      }
    },
    {
      "type": "database",
      "id": "product_catalog",
      "query": "SELECT * FROM products WHERE category = 'electronics'",
      "format": "table"
    }
  ]
}
```

### 2. Tool (도구)

도구는 모델이 외부 세계와 상호작용하거나 특정 작업을 수행하기 위해 호출할 수 있는 함수 또는 API입니다.

**예시:**
- **검색 도구**: 인터넷에서 최신 정보를 검색
- **계산기**: 복잡한 수학 문제 해결
- **데이터베이스 쿼리**: 정보 검색 또는 저장
- **API 호출**: 날씨 데이터 가져오기, 일정 관리, 이메일 전송 등
- **코드 실행**: 코드 스니펫 실행 및 결과 평가

**도구 정의 예시:**
```json
{
  "tools": [
    {
      "name": "search",
      "description": "인터넷에서 최신 정보를 검색합니다",
      "parameters": {
        "query": {
          "type": "string",
          "description": "검색어"
        }
      },
      "return": {
        "type": "array",
        "items": {
          "title": "string",
          "url": "string",
          "snippet": "string"
        }
      }
    },
    {
      "name": "calculator",
      "description": "수학 표현식을 계산합니다",
      "parameters": {
        "expression": {
          "type": "string",
          "description": "계산할 수학 표현식"
        }
      },
      "return": {
        "result": "number"
      }
    }
  ]
}
```

### 3. Prompt (프롬프트)

프롬프트는 모델의 동작, 응답 형식 및 수행해야 할 작업을 정의하는 지침입니다.

**예시:**
- **역할 정의**: "당신은 마케팅 전략가입니다"
- **작업 지침**: "다음 제품에 대한 마케팅 계획을 개발하세요"
- **출력 형식**: "JSON 형식으로 응답하세요"
- **제약 조건**: "200단어 이내로 요약하세요"

**프롬프트 구조 예시:**
```json
{
  "prompt": {
    "role": "assistant",
    "task": "사용자의 데이터를 기반으로 개인화된 운동 계획을 작성하세요",
    "constraints": [
      "계획은 사용자의 현재 피트니스 레벨에 맞게 조정되어야 합니다",
      "주당 3-5회 운동 세션을 포함해야 합니다",
      "각 운동에 대한 설명과 함께 명확한 구조를 제공해야 합니다"
    ],
    "outputFormat": {
      "type": "structured",
      "format": "markdown",
      "sections": ["소개", "주간 계획", "각 운동 설명", "진행 상황 추적"]
    }
  }
}
```

## MCP 작동 방식

1. **컨텍스트 구성**: 리소스, 도구 및 프롬프트가 모델에 제공됩니다.
2. **모델 처리**: 모델은 제공된 컨텍스트와 사용자 입력을 처리합니다.
3. **도구 사용**: 필요한 경우 모델은 도구를 호출하여 추가 정보를 얻거나 작업을 수행합니다.
4. **리소스 참조**: 모델은 제공된 리소스를 참조하여 응답을 강화합니다.
5. **응답 생성**: 모델은 프롬프트 지침에 따라 최종 응답을 생성합니다.

## MCP의 이점

- **확장된 기능**: 모델이 외부 도구와 데이터에 액세스할 수 있습니다.
- **맞춤형 동작**: 특정 사용 사례에 맞게 모델 동작을 조정할 수 있습니다.
- **최신 정보**: 리소스와 도구를 통해 최신 정보에 액세스할 수 있습니다.
- **구조화된 출력**: 응답 형식을 명확하게 정의할 수 있습니다.
- **복잡한 작업**: 여러 단계의 복잡한 작업을 수행할 수 있습니다.

## 실제 적용 사례

- **고객 지원 시스템**: 회사 정책, 제품 정보 및 FAQ에 액세스하여 정확한 정보 제공
- **데이터 분석 보조**: 데이터베이스 쿼리, 시각화 도구 및 통계 함수에 액세스
- **개인 비서**: 이메일, 일정 및 메모에 액세스하고 작업을 자동화
- **교육 도우미**: 교과서, 연습 문제 및 설명 자료에 액세스하여 학습 지원
